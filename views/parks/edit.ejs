<% layout('layouts/boilerPlate') %>
  <div class="row">
    <h1 class="text-center">Edit Park</h1>
    <div class="col-md-6 offset-md-3">
      <form action="/parks/<%=park._id%>?_method=PUT" method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
        <div class="mb-3">
          <label class="form-label" for="name">Title</label>
          <input class="form-control" type="text" name="name" placeholder="name" id="name" value="<%=park.name%>"
            required>
        </div>

        <div class="mb-3">
          <label class="form-label" for="location">Location</label>
          <input class="form-control" type="text" name="location" placeholder="location" id="location"
            value="<%=park.location%>" required>
        </div>
        <div class="mb-3">
          <div class="form-file custom-file">
            <input type="file" class="form-file-input" id="image" name="image" multiple>
            <label class="form-file-label" for="image">
              <span class="form-file-text custom-file-label">Browse to add more image(s)...</span>
            </label>
          </div>
        </div>


        <div class="input-group flex-nowrap mb-3">
          <span class="input-group-text" id="addon-wrapping">@</span>
          <input type="number" class="form-control" name="price" placeholder="Price" aria-label="Price"
            aria-describedby="addon-wrapping" min="0" value="<%=park.price%>" step="0.01" required>
        </div>

        <div class="input-group mb-3">
          <span class="input-group-text">Intro</span>
          <textarea class="form-control" aria-label="Intro" name="intro" required><%=park.intro%></textarea>
        </div>
        <div class="mb-3">
          <% park.images.forEach((img, i)=>{ %>
            <div>
              <img src="<%=img.thumbnail%>" alt="park" class="img-thumbnail">
              <br>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="image-<%=i%>" name="deleteImages[]"
                  value="<%=img.filename%>">
                <label class="form-check-label" for="image-<%=i%>">Check To Delete</label>
              </div>
            </div>

            <%})%>

        </div>



        <button type="submit" class="btn btn-primary">UPDATE</button>
        <a href="/parks" class="link-primary">CANCEL</a>
      </form>
    </div>
  </div>